[
  {
    "name": "Standard Test 01",
    "description": "testing out the standard modifiers and that they work",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "GBP",
          "defaults": {
            "damageDeposit": 100,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 0,
            "balanceDaysBeforeArrival": 42,
            "depositSplitPercentage": 50,
            "daysRequiredInAdvanceForBooking": 0,
            "extraNightAlterationStrategyUseGlobalNights": true,
            "damageDepositSplitMethod": "ON_ARRIVAL"
          },
          "taxes": [],
          "periods": [
            {
              "description": "1",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-01-01",
                  "endDate": "2017-01-31",
                  "arrivalDays": [
                    "monday",
                    "tuesday"
                  ],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 100,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "fixed",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "15-30",
                        "amount": 50,
                        "days": [],
                        "matchAmount": 0
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "2",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-02-01",
                  "endDate": "2018-02-28",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "weekly",
                "amount": 100,
                "damageDeposit": 50,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "partialWeekAlteration": {
                    "minimumWeekCount": 1,
                    "calculationMethod": "fixed",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "1+",
                        "amount": 100,
                        "days": [],
                        "matchAmount": 0
                      }
                    ]
                  }
                }
              }
            }
          ],
          "modifiers": [
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_ARRIVAL",
              "description": "On Arrival Tax",
              "conditionOperand": "AND",
              "conditions": [],
              "rate": {
                "type": "adjustment",
                "amount": 50,
                "calculationMethod": "fixed",
                "calculationOperand": "addition",
                "applicableTaxes": []
              }
            },
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_TOTAL",
              "description": "10% discount",
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "nights",
                  "modifyRatePerUnit": false,
                  "minimum": 5
                },
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-10-01",
                  "endDate": "2017-12-31",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "adjustment",
                "amount": 0.1,
                "calculationMethod": "percentage",
                "calculationOperand": "subtraction",
                "applicableTaxes": []
              }
            }
          ]
        }
      ]
    },
    "mixins": {
      "example-mixin": {}
    },
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2017-07-01",
          "departureDate": "2017-07-07",
          "bookingDate": "2017-06-25",
          "guests": 7,
          "currency": "GBP"
        },
        "tests": {
          "noNights": 6,
          "finalPrice": 8574,
          "basePrice": 8574,
          "damageDeposit": 5000,
          "adjustmentCount": 2,
          "split": {
            "deposit": 4287,
            "balance": 4287
          },
          "nightPrices": {
            "2017-07-01": 1429,
            "2017-07-02": 1429,
            "2017-07-03": 1429,
            "2017-07-04": 1429,
            "2017-07-05": 1429,
            "2017-07-06": 1429,
            "2017-07-07": 1429
          }
        }
      }
    ]
  },
  {
    "name": "Standard Test 02",
    "description": "",
    "config": {
      "name": "Pricing Example Structure",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "GBP",
          "taxes": [
            {
              "name": "GST",
              "calculationMethod": "percentage",
              "amount": 0.05
            }
          ],
          "periods": [
            {
              "description": "April '16",
              "priority": 2,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "startDate": "2016-04-05",
                  "endDate": "2016-04-30"
                }
              ],
              "rate": {
                "type": "weekly",
                "strategy": {
                  "partialWeekAlteration": {
                    "calculationMethod": "fixed",
                    "brackets": {
                      "1": 0.4,
                      "2": 0.5,
                      "3": 300,
                      "4": 0.7,
                      "5": 0.8,
                      "6": 0.9
                    },
                    "minimumWeekCount": 0,
                    "maximumWeekCount": null
                  },
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "calculationMethod": "fixed",
                    "makePreviousDaysSameRate": true,
                    "brackets": {
                      "1": 50,
                      "2": 40,
                      "3-7": 38,
                      "8+": 35
                    }
                  }
                },
                "amount": 350
              }
            },
            {
              "description": "May '16",
              "priority": 1,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "startDate": "2016-05-01",
                  "endDate": "2016-05-31"
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 350
              }
            }
          ],
          "modifiers": [
            {
              "description": "April Special Discount",
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "startDate": "2016-04-05",
                  "endDate": "2016-04-20"
                }
              ],
              "rate": {
                "type": "adjustment",
                "amount": 0.10,
                "calculationMethod": "percentage",
                "calculationOperand": "subtraction"
              }
            }
          ]
        }
      ]
    },
    "mixins": [],
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2016-04-05",
          "departureDate": "2016-04-15",
          "bookingDate": "2016-02-22",
          "guests": 6,
          "currency": "GBP"
        },
        "tests": {
          "noNights": 10,
          "finalPrice": 47500,
          "nightPrices": {
            "2016-04-05": 5000,
            "2016-04-06": 5000,
            "2016-04-07": 5000,
            "2016-04-08": 5000,
            "2016-04-09": 5000,
            "2016-04-10": 5000,
            "2016-04-11": 5000,
            "2016-04-12": 5000,
            "2016-04-13": 5000,
            "2016-04-14": 5000
          }
        }
      }
    ]
  },
  {
    "name": "Specific Tax Test 01",
    "description": "",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "GBP",
          "defaults": {
            "damageDeposit": 100,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 3,
            "balanceDaysBeforeArrival": 0,
            "depositSplitPercentage": 30,
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_DEPOSIT"
          },
          "taxes": [
            {
              "name": "People Tax",
              "uuid": "example-people-tax-uuid",
              "amount": 0.1,
              "calculationMethod": "percentage"
            }
          ],
          "periods": [
            {
              "description": "Standard",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-06-26",
                  "endDate": "2020-06-30",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "nightly",
                "amount": 100,
                "calculationMethod": "fixed",
                "calculationOperand": "equals"
              }
            }
          ],
          "modifiers": [
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_TOTAL",
              "description": "Per Guest",
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "guests",
                  "modifyRatePerUnit": true
                }
              ],
              "rate": {
                "type": "adjustment",
                "amount": 10,
                "calculationMethod": "fixed",
                "calculationOperand": "addition"
              }
            },
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_TOTAL",
              "description": "Cleaning",
              "conditionOperand": "AND",
              "conditions": [],
              "rate": {
                "type": "adjustment",
                "amount": 100,
                "calculationMethod": "fixed",
                "calculationOperand": "addition",
                "taxable": true,
                "applicableTaxes": [
                  "example-people-tax-uuid"
                ]
              }
            }
          ]
        }
      ]
    },
    "mixins": [],
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2017-06-26",
          "departureDate": "2017-06-30",
          "bookingDate": "2017-05-01",
          "guests": 3,
          "currency": "GBP"
        },
        "tests": {
          "noNights": 4,
          "finalPrice": 69000,
          "nightPrices": {
            "2017-06-26": 10000,
            "2017-06-27": 10000,
            "2017-06-28": 10000,
            "2017-06-29": 10000
          }
        }
      }
    ]
  },
  {
    "name": "Conditional Per Unit Rate With Date Based Modifier",
    "description": "Makes sure to only apply the per rate unit on the matched dates of the condition, not the total nights",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "GBP",
          "defaults": {
            "damageDeposit": 100,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 0,
            "balanceDaysBeforeArrival": 42,
            "depositSplitPercentage": 50,
            "daysRequiredInAdvanceForBooking": 0,
            "extraNightAlterationStrategyUseGlobalNights": true,
            "damageDepositSplitMethod": "ON_ARRIVAL"
          },
          "taxes": [],
          "periods": [
            {
              "description": "1",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-01-01",
                  "endDate": "2017-01-31",
                  "arrivalDays": [
                    "monday",
                    "tuesday"
                  ],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 100,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "fixed",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "15-30",
                        "amount": 50,
                        "days": [],
                        "matchAmount": 0
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "2",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-02-01",
                  "endDate": "2018-02-28",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "weekly",
                "amount": 100,
                "damageDeposit": 50,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "partialWeekAlteration": {
                    "minimumWeekCount": 1,
                    "calculationMethod": "fixed",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "1+",
                        "amount": 100,
                        "days": [],
                        "matchAmount": 0
                      }
                    ]
                  }
                }
              }
            }
          ],
          "modifiers": [
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_TOTAL",
              "description": "On Arrival Tax",
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "guests",
                  "modifyRatePerUnit": true
                },
                {
                  "type": "weeks",
                  "modifyRatePerUnit": true,
                  "minimum": 0
                },
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-11-04",
                  "endDate": "2017-11-11",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "adjustment",
                "amount": 50,
                "calculationMethod": "fixed",
                "calculationOperand": "addition",
                "applicableTaxes": []
              }
            }
          ]
        }
      ]
    },
    "mixins": [],
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2017-11-11",
          "departureDate": "2017-11-25",
          "bookingDate": "2017-11-08",
          "guests": 3,
          "currency": "GBP"
        },
        "tests": {
          "noNights": 14,
          "finalPrice": 40000,
          "nightPrices": {
            "2017-11-11": 1429,
            "2017-11-12": 1429,
            "2017-11-13": 1429,
            "2017-11-14": 1429,
            "2017-11-15": 1428,
            "2017-11-16": 1428,
            "2017-11-17": 1428,
            "2017-11-18": 1429,
            "2017-11-19": 1429,
            "2017-11-20": 1429,
            "2017-11-21": 1429,
            "2017-11-22": 1428,
            "2017-11-23": 1428,
            "2017-11-24": 1428
          }
        }
      }
    ]
  },
  {
    "name": "Mixin Tax Test",
    "description": "Tests that the mixin is working for taxes",
    "config": {
      "name": "Pricing Example Structure",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "GBP",
          "taxes": "@test-mixin",
          "periods": [
            {
              "description": "April '16",
              "priority": 2,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "startDate": "2016-04-05",
                  "endDate": "2016-04-30"
                }
              ],
              "rate": {
                "type": "weekly",
                "strategy": {
                  "partialWeekAlteration": {
                    "calculationMethod": "fixed",
                    "brackets": {
                      "1": 0.4,
                      "2": 0.5,
                      "3": 300,
                      "4": 0.7,
                      "5": 0.8,
                      "6": 0.9
                    },
                    "minimumWeekCount": 0,
                    "maximumWeekCount": null
                  },
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "calculationMethod": "fixed",
                    "makePreviousDaysSameRate": true,
                    "brackets": {
                      "1": 50,
                      "2": 40,
                      "3-7": 38,
                      "8+": 35
                    }
                  }
                },
                "amount": 350
              }
            },
            {
              "description": "May '16",
              "priority": 1,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "startDate": "2016-05-01",
                  "endDate": "2016-05-31"
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 350
              }
            }
          ],
          "modifiers": [
            {
              "description": "April Special Discount",
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "startDate": "2016-04-05",
                  "endDate": "2016-04-20"
                }
              ],
              "rate": {
                "type": "adjustment",
                "amount": 0.10,
                "calculationMethod": "percentage",
                "calculationOperand": "subtraction"
              }
            }
          ]
        }
      ]
    },
    "mixins": {
      "test-mixin": [
        {
          "name": "GST",
          "calculationMethod": "percentage",
          "amount": 0.05
        }
      ]
    },
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2016-04-05",
          "departureDate": "2016-04-15",
          "bookingDate": "2016-02-22",
          "guests": 6,
          "currency": "GBP"
        },
        "tests": {
          "noNights": 10,
          "finalPrice": 47500,
          "nightPrices": {
            "2016-04-05": 5000,
            "2016-04-06": 5000,
            "2016-04-07": 5000,
            "2016-04-08": 5000,
            "2016-04-09": 5000,
            "2016-04-10": 5000,
            "2016-04-11": 5000,
            "2016-04-12": 5000,
            "2016-04-13": 5000,
            "2016-04-14": 5000
          }
        }
      }
    ]
  },
  {
    "name": "Monthly Damage Deposit Test",
    "description": "Test that the monthly damage deposit system is working as intended. dep % should be overridden by the strategy",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "THB",
          "defaults": {
            "damageDeposit": null,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 30,
            "balanceDaysBeforeArrival": 42,
            "depositSplitPercentage": 10,
            "daysRequiredInAdvanceForBooking": 0,
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_BALANCE"
          },
          "taxes": [],
          "periods": [
            {
              "description": "Long term rates 2018-2024",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-01-01",
                  "endDate": "2025-01-01",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "monthly",
                "amount": 55000,
                "damageDeposit": 0,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraMonthsAlteration": {
                    "applyToTotal": true,
                    "makePreviousMonthsSameRate": true,
                    "calculationMethod": "fixed",
                    "calculationOperand": "equals",
                    "extraNightsRate": 1833,
                    "numberOfMonthsDeposit": 1,
                    "brackets": [
                      {
                        "night": "1-6",
                        "amount": 55000,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7+",
                        "amount": 55000,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            }
          ],
          "modifiers": []
        }
      ]
    },
    "mixins": {},
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2018-03-01",
          "departureDate": "2018-03-31",
          "bookingDate": "2018-01-01",
          "guests": 4,
          "currency": "THB"
        },
        "tests": {
          "noNights": 30,
          "finalPrice": 5500000,
          "adjustmentCount": 0,
          "nightPrices": {
            "2018-03-01": 183334,
            "2018-03-02": 183334,
            "2018-03-03": 183334,
            "2018-03-04": 183334,
            "2018-03-05": 183334,
            "2018-03-06": 183334,
            "2018-03-07": 183334,
            "2018-03-08": 183334,
            "2018-03-09": 183334,
            "2018-03-10": 183333,
            "2018-03-11": 183333,
            "2018-03-12": 183333,
            "2018-03-13": 183333,
            "2018-03-14": 183333,
            "2018-03-15": 183333,
            "2018-03-16": 183333,
            "2018-03-17": 183333,
            "2018-03-18": 183333,
            "2018-03-19": 183333,
            "2018-03-20": 183333,
            "2018-03-21": 183333,
            "2018-03-22": 183333,
            "2018-03-23": 183333,
            "2018-03-24": 183333,
            "2018-03-25": 183333,
            "2018-03-26": 183333,
            "2018-03-27": 183333,
            "2018-03-28": 183333,
            "2018-03-29": 183333,
            "2018-03-30": 183334
          }
        }
      }
    ]
  },
  {
    "name": "On Arrival Damage Deposit Test",
    "description": "Tests that when the damage deposit is set to ON_ARRIVAL it will not be added to the total",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "EUR",
          "defaults": {
            "minimumNights": 7,
            "damageDeposit": 500,
            "damageDepositCalculationMethod": "fixed",
            "damageDepositSplitMethod": "ON_ARRIVAL",
            "daysRequiredInAdvanceForBooking": 4,
            "extraNightAlterationStrategyUseGlobalNights": false,
            "balanceDaysBeforeArrival": 60,
            "depositSplitPercentage": 10
          },
          "taxes": [],
          "periods": [
            {
              "id": 5403,
              "description": "31 Mar - 6 Apr",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2018-03-31",
                  "endDate": "2018-04-06",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2145,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5413,
              "description": "2019-08-25 - 2019-09-14",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2019-08-25",
                  "endDate": "2019-09-14",
                  "arrivalDays": [
                    "saturday"
                  ],
                  "departureDays": [
                    "saturday"
                  ]
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2360,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5419,
              "description": "2020-08-25 - 2020-09-14",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2020-08-25",
                  "endDate": "2020-09-14",
                  "arrivalDays": [
                    "saturday"
                  ],
                  "departureDays": [
                    "saturday"
                  ]
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2360,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5418,
              "description": "2020-06-30 - 2020-08-24",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2020-06-30",
                  "endDate": "2020-08-24",
                  "arrivalDays": [
                    "saturday"
                  ],
                  "departureDays": [
                    "saturday"
                  ]
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2963,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5417,
              "description": "2020-05-19 - 2020-06-29",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2020-05-19",
                  "endDate": "2020-06-29",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2360,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5416,
              "description": "2020-04-07 - 2020-05-18",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2020-04-07",
                  "endDate": "2020-05-18",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 1482,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5415,
              "description": "2020-03-31 - 2020-04-06",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2020-03-31",
                  "endDate": "2020-04-06",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2360,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5414,
              "description": "2019-09-15 - 2019-10-26",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2019-09-15",
                  "endDate": "2019-10-26",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 1482,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5412,
              "description": "2019-06-30 - 2019-08-24",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2019-06-30",
                  "endDate": "2019-08-24",
                  "arrivalDays": [
                    "saturday"
                  ],
                  "departureDays": [
                    "saturday"
                  ]
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2963,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5404,
              "description": "7 Apr - 18 May",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2018-04-07",
                  "endDate": "2018-05-18",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 1347,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5411,
              "description": "2019-05-19 - 2019-06-29",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2019-05-19",
                  "endDate": "2019-06-29",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2360,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5410,
              "description": "2019-04-07 - 2019-05-18",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2019-04-07",
                  "endDate": "2019-05-18",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 1482,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5409,
              "description": "2019-03-31 - 2019-04-06",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2019-03-31",
                  "endDate": "2019-04-06",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2360,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5408,
              "description": "15 Sep - 26 Oct",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2018-09-15",
                  "endDate": "2018-10-26",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 1347,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5407,
              "description": "25 Aug - 14 Sep",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2018-08-25",
                  "endDate": "2018-09-14",
                  "arrivalDays": [
                    "saturday"
                  ],
                  "departureDays": [
                    "saturday"
                  ]
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2145,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5406,
              "description": "30 Jun - 24 Aug",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2018-06-30",
                  "endDate": "2018-08-24",
                  "arrivalDays": [
                    "saturday"
                  ],
                  "departureDays": [
                    "saturday"
                  ]
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2694,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5405,
              "description": "19 May - 29 Jun",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2018-05-19",
                  "endDate": "2018-06-29",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 2145,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            },
            {
              "id": 5420,
              "description": "2020-09-15 - 2020-10-26",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "inverse": false,
                  "modifyRatePerUnit": false,
                  "startDate": "2020-09-15",
                  "endDate": "2020-10-26",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "rate": {
                "type": "weekly",
                "amount": 1482,
                "taxable": false,
                "damageDeposit": null,
                "basePriceOnly": false,
                "applicableTaxes": [],
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "strategy": null
              },
              "minimumNights": 7,
              "bookableType": "instant_bookable"
            }
          ],
          "modifiers": []
        }
      ]
    },
    "mixins": {},
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2018-04-01",
          "departureDate": "2018-04-08",
          "bookingDate": "2018-01-01",
          "guests": 3,
          "currency": "EUR"
        },
        "tests": {
          "noNights": 7,
          "finalPrice": 203101,
          "adjustmentCount": 1,
          "nightPrices": {
            "2018-04-01": 30643,
            "2018-04-02": 30643,
            "2018-04-03": 30643,
            "2018-04-04": 30643,
            "2018-04-05": 30643,
            "2018-04-06": 30643,
            "2018-04-07": 19243
          }
        }
      }
    ]
  },
  {
    "name": "Dormoalonda Lycan Pricing Error",
    "description": "Replicating error on Lycan",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "GBP",
          "defaults": {
            "damageDeposit": 0,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 2,
            "balanceDaysBeforeArrival": 0,
            "depositSplitPercentage": 0,
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_TOTAL"
          },
          "taxes": [],
          "periods": [
            {
              "description": "Normal price",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-05-16",
                  "endDate": "2022-08-24",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "2",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 105,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            }
          ],
          "modifiers": []
        },
        {
          "currency": "EUR",
          "defaults": {
            "damageDeposit": 0,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 0,
            "balanceDaysBeforeArrival": 0,
            "depositSplitPercentage": 0,
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_TOTAL"
          },
          "taxes": [],
          "periods": [],
          "modifiers": []
        }
      ]
    },
    "mixins": {},
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2018-04-13",
          "departureDate": "2018-04-20",
          "bookingDate": "2018-04-10",
          "guests": 2,
          "adults": null,
          "pets": 0,
          "currency": "GBP",
          "children": null,
          "infants": null,
          "locale": "en",
          "forceGeneration": true,
          "testMode": false,
          "property": "110dc734-8eea-4327-9792-3e0fe7779630",
          "marketingReferenceId": "Amber Apartment - double",
          "id": "2088c963-c6d0-4f7f-ac35-71658ac65a97",
          "brand": "1af1b63b-5be3-41c4-ae89-70af603e5d74"
        },
        "tests": {
          "noNights": 7,
          "finalPrice": 73500,
          "adjustmentCount": 0,
          "nightPrices": {
            "2018-04-13": 10500,
            "2018-04-14": 10500,
            "2018-04-15": 10500,
            "2018-04-16": 10500,
            "2018-04-17": 10500,
            "2018-04-18": 10500,
            "2018-04-19": 10500
          }
        }
      }
    ]
  },
  {
    "name": "Villa Elissa Price Test",
    "description": "",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "EUR",
          "defaults": {
            "damageDeposit": 1000,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 7,
            "balanceDaysBeforeArrival": 60,
            "depositSplitPercentage": 30,
            "daysRequiredInAdvanceForBooking": 4,
            "bookableType": "instant_bookable",
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_ARRIVAL"
          },
          "taxes": [],
          "periods": [
            {
              "description": "2018",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-04-01",
                  "endDate": "2018-05-31",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "weekly",
                "amount": 6726,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "2018",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-06-01",
                  "endDate": "2018-06-30",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "weekly",
                "amount": 8489,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "2018",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-07-01",
                  "endDate": "2018-07-31",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "",
              "bookableType": null,
              "rate": {
                "type": "weekly",
                "amount": 12407,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "2018",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-08-01",
                  "endDate": "2018-08-31",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "",
              "bookableType": null,
              "rate": {
                "type": "weekly",
                "amount": 14693,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "2018",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-09-01",
                  "endDate": "2018-09-30",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": 5,
              "bookableType": null,
              "rate": {
                "type": "weekly",
                "amount": 8489,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "2018",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-10-01",
                  "endDate": "2018-10-31",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "weekly",
                "amount": 6726,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            }
          ],
          "modifiers": []
        }
      ]
    },
    "mixins": [],
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2018-09-01",
          "departureDate": "2018-09-06",
          "bookingDate": "2018-07-04",
          "guests": 10,
          "currency": "EUR"
        },
        "tests": {
          "noNights": 5,
          "finalPrice": 606356,
          "basePrice": 606356,
          "damageDeposit": 100000,
          "adjustmentCount": 1,
          "split": {
            "deposit": 181907,
            "balance": 424449
          },
          "nightPrices": {
            "2018-09-01": 121272,
            "2018-09-02": 121271,
            "2018-09-03": 121271,
            "2018-09-04": 121271,
            "2018-09-05": 121271
          }
        }
      }
    ]
  },
  {
    "name": "MultiDate Condition Test",
    "description": "",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "EUR",
          "defaults": {
            "damageDeposit": 0,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 7,
            "balanceDaysBeforeArrival": 60,
            "depositSplitPercentage": 30,
            "daysRequiredInAdvanceForBooking": 1,
            "bookableType": "instant_bookable",
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_ARRIVAL"
          },
          "taxes": [],
          "periods": [
            {
              "description": "2020",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-01-01",
                  "endDate": "2020-12-31",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": 2,
              "bookableType": null,
              "rate": {
                "type": "weekly",
                "amount": 100,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            }
          ],
          "modifiers": [
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_TOTAL",
              "description": "Early Bird",
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "booking_days",
                  "modifyRatePerUnit": false,
                  "minimum": 0,
                  "maximum": 7
                },
                {
                  "type": "multi_date",
                  "strategy": "STRATEGY_MATCH",
                  "dates": [
                    {"start": "2020-02-01", "end": "2020-02-28"},
                    {"start": "2020-04-01", "end": "2020-04-30"}
                  ]
                }
              ],
              "rate": {
                "type": "adjustment",
                "amount": 0.05,
                "calculationMethod": "percentage",
                "calculationOperand": "subtraction",
                "applicableTaxes": []
              }
            }
          ]
        }
      ]
    },
    "mixins": [],
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2020-02-01",
          "departureDate": "2020-02-08",
          "bookingDate": "2020-01-31",
          "guests": 10,
          "currency": "EUR"
        },
        "tests": {
          "noNights": 7,
          "finalPrice": 9500,
          "basePrice": 9500,
          "damageDeposit": 0,
          "adjustmentCount": 1,
          "split": {
            "deposit": 2850,
            "balance": 6650
          },
          "nightPrices": {
            "2020-02-01": 1429,
            "2020-02-02": 1429,
            "2020-02-03": 1429,
            "2020-02-04": 1429,
            "2020-02-05": 1428,
            "2020-02-06": 1428,
            "2020-02-07": 1428
          }
        }
      }
    ]
  },
  {
    "name": "MultiDate Condition Test Not Matched",
    "description": "",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "EUR",
          "defaults": {
            "damageDeposit": 0,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 7,
            "balanceDaysBeforeArrival": 60,
            "depositSplitPercentage": 30,
            "daysRequiredInAdvanceForBooking": 1,
            "bookableType": "instant_bookable",
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_ARRIVAL"
          },
          "taxes": [],
          "periods": [
            {
              "description": "2020",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-01-01",
                  "endDate": "2020-12-31",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": 2,
              "bookableType": null,
              "rate": {
                "type": "weekly",
                "amount": 100,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            }
          ],
          "modifiers": [
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_TOTAL",
              "description": "Early Bird",
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "booking_days",
                  "modifyRatePerUnit": false,
                  "minimum": 0,
                  "maximum": 7
                },
                {
                  "type": "multi_date",
                  "strategy": "STRATEGY_NOT_MATCH",
                  "dates": [
                    {"start": "2020-02-01", "end": "2020-02-28"},
                    {"start": "2020-04-01", "end": "2020-04-30"}
                  ]
                }
              ],
              "rate": {
                "type": "adjustment",
                "amount": 0.05,
                "calculationMethod": "percentage",
                "calculationOperand": "subtraction",
                "applicableTaxes": []
              }
            }
          ]
        }
      ]
    },
    "mixins": [],
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2020-02-01",
          "departureDate": "2020-02-08",
          "bookingDate": "2020-01-31",
          "guests": 10,
          "currency": "EUR"
        },
        "tests": {
          "noNights": 7,
          "finalPrice": 10000,
          "basePrice": 10000,
          "damageDeposit": 0,
          "adjustmentCount": 0,
          "split": {
            "deposit": 3000,
            "balance": 7000
          },
          "nightPrices": {
            "2020-02-01": 1429,
            "2020-02-02": 1429,
            "2020-02-03": 1429,
            "2020-02-04": 1429,
            "2020-02-05": 1428,
            "2020-02-06": 1428,
            "2020-02-07": 1428
          }
        }
      }
    ]
  },
  {
    "name": "Base Price > Total Price Bug",
    "description": "",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "EUR",
          "defaults": {
            "damageDeposit": 100,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 7,
            "balanceDaysBeforeArrival": 60,
            "depositSplitPercentage": 30,
            "daysRequiredInAdvanceForBooking": 1,
            "bookableType": "instant_bookable",
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_DEPOSIT"
          },
          "taxes": [],
          "periods": [
            {
              "description": "2020",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-01-01",
                  "endDate": "2020-12-31",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": 2,
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 100,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            }
          ],
          "modifiers": [
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_TOTAL",
              "description": "Early Bird",
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "booking_days",
                  "modifyRatePerUnit": false,
                  "minimum": 0,
                  "maximum": 7
                },
                {
                  "type": "multi_date",
                  "strategy": "STRATEGY_MATCH",
                  "dates": [
                    {"start": "2020-02-01", "end": "2020-02-28"},
                    {"start": "2020-04-01", "end": "2020-04-30"}
                  ]
                }
              ],
              "rate": {
                "type": "adjustment",
                "amount": 0.05,
                "calculationMethod": "percentage",
                "calculationOperand": "subtraction",
                "applicableTaxes": []
              }
            }
          ]
        }
      ]
    },
    "mixins": [],
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2020-02-01",
          "departureDate": "2020-02-11",
          "bookingDate": "2020-01-31",
          "guests": 10,
          "currency": "EUR"
        },
        "tests": {
          "noNights": 10,
          "finalPrice": 105000,
          "basePrice": 95000,
          "damageDeposit": 10000,
          "adjustmentCount": 2,
          "split": {
            "deposit": 38500,
            "balance": 66500
          },
          "nightPrices": {
            "2020-02-01": 10000,
            "2020-02-02": 10000,
            "2020-02-03": 10000,
            "2020-02-04": 10000,
            "2020-02-05": 10000,
            "2020-02-06": 10000,
            "2020-02-07": 10000,
            "2020-02-08": 10000,
            "2020-02-09": 10000,
            "2020-02-10": 10000
          }
        }
      }
    ]
  },
  {
    "name": "Per Guest Per Week - 0 - 7 days = 1 week, 7 - 14 = 2 weeks etc",
    "description": "",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "EUR",
          "defaults": {
            "damageDeposit": 0,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 7,
            "balanceDaysBeforeArrival": 60,
            "depositSplitPercentage": 30,
            "daysRequiredInAdvanceForBooking": 0,
            "bookableType": "instant_bookable",
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_ARRIVAL"
          },
          "taxes": [],
          "periods": [
            {
              "description": "Test",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-01-01",
                  "endDate": "2024-01-31",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 100,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            }
          ],
          "modifiers": [
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_TOTAL",
              "description": "Weekly Per Guest",
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "weeks",
                  "modifyRatePerUnit": true,
                  "minimum": 0
                },
                {
                  "type": "guests",
                  "modifyRatePerUnit": true,
                  "minimum": 2
                }
              ],
              "rate": {
                "type": "adjustment",
                "amount": 10,
                "calculationMethod": "fixed",
                "calculationOperand": "addition",
                "applicableTaxes": []
              }
            }
          ]
        }
      ]
    },
    "mixins": [],
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2019-01-04",
          "departureDate": "2019-01-11",
          "bookingDate": "2019-01-01",
          "guests": 3,
          "currency": "EUR"
        },
        "tests": {
          "noNights": 7,
          "finalPrice": 72000,
          "basePrice": 70000,
          "damageDeposit": 0,
          "adjustmentCount": 1,
          "split": {
            "deposit": 21600,
            "balance": 50400
          },
          "nightPrices": {
            "2019-01-04": 10000,
            "2019-01-05": 10000,
            "2019-01-06": 10000,
            "2019-01-07": 10000,
            "2019-01-08": 10000,
            "2019-01-09": 10000,
            "2019-01-10": 10000
          }
        }
      },
      {
        "context": {
          "arrivalDate": "2019-01-04",
          "departureDate": "2019-01-13",
          "bookingDate": "2019-01-01",
          "guests": 3,
          "currency": "EUR"
        },
        "tests": {
          "noNights": 9,
          "finalPrice": 94000,
          "basePrice": 90000,
          "damageDeposit": 0,
          "adjustmentCount": 1,
          "split": {
            "deposit": 28200,
            "balance": 65800
          },
          "nightPrices": {
            "2019-01-04": 10000,
            "2019-01-05": 10000,
            "2019-01-06": 10000,
            "2019-01-07": 10000,
            "2019-01-08": 10000,
            "2019-01-09": 10000,
            "2019-01-10": 10000,
            "2019-01-11": 10000,
            "2019-01-12": 10000
          }
        }
      },
      {
        "context": {
          "arrivalDate": "2019-01-04",
          "departureDate": "2019-01-19",
          "bookingDate": "2019-01-01",
          "guests": 3,
          "currency": "EUR"
        },
        "tests": {
          "noNights": 15,
          "finalPrice": 156000,
          "basePrice": 150000,
          "damageDeposit": 0,
          "adjustmentCount": 1,
          "split": {
            "deposit": 46800,
            "balance": 109200
          },
          "nightPrices": {
            "2019-01-04": 10000,
            "2019-01-05": 10000,
            "2019-01-06": 10000,
            "2019-01-07": 10000,
            "2019-01-08": 10000,
            "2019-01-09": 10000,
            "2019-01-10": 10000,
            "2019-01-11": 10000,
            "2019-01-12": 10000,
            "2019-01-13": 10000,
            "2019-01-14": 10000,
            "2019-01-15": 10000,
            "2019-01-16": 10000,
            "2019-01-17": 10000,
            "2019-01-18": 10000
          }
        }
      },
      {
        "context": {
          "arrivalDate": "2019-01-04",
          "departureDate": "2019-01-18",
          "bookingDate": "2019-01-01",
          "guests": 3,
          "currency": "EUR"
        },
        "tests": {
          "noNights": 14,
          "finalPrice": 144000,
          "basePrice": 140000,
          "damageDeposit": 0,
          "adjustmentCount": 1,
          "split": {
            "deposit": 43200,
            "balance": 100800
          },
          "nightPrices": {
            "2019-01-04": 10000,
            "2019-01-05": 10000,
            "2019-01-06": 10000,
            "2019-01-07": 10000,
            "2019-01-08": 10000,
            "2019-01-09": 10000,
            "2019-01-10": 10000,
            "2019-01-11": 10000,
            "2019-01-12": 10000,
            "2019-01-13": 10000,
            "2019-01-14": 10000,
            "2019-01-15": 10000,
            "2019-01-16": 10000,
            "2019-01-17": 10000
          }
        }
      }
    ]
  },
  {
    "name": "Pet Test 01",
    "description": "testing out pets",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "GBP",
          "defaults": {
            "damageDeposit": null,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 0,
            "balanceDaysBeforeArrival": 42,
            "depositSplitPercentage": 50,
            "daysRequiredInAdvanceForBooking": 0,
            "extraNightAlterationStrategyUseGlobalNights": true,
            "damageDepositSplitMethod": "ON_ARRIVAL",
            "perPetPerStay": 10,
            "perPetPerNight": 2
          },
          "taxes": [],
          "periods": [
            {
              "description": "2",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-02-01",
                  "endDate": "2018-02-28",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 100,
                "damageDeposit": null,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": null
              }
            }
          ],
          "modifiers": []
        }
      ]
    },
    "mixins": {
      "example-mixin": {}
    },
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2017-07-01",
          "departureDate": "2017-07-11",
          "bookingDate": "2017-06-25",
          "guests": 7,
          "pets": 1,
          "currency": "GBP"
        },
        "tests": {
          "noNights": 10,
          "finalPrice": 103000,
          "basePrice": 100000,
          "damageDeposit": 0,
          "adjustmentCount": 1,
          "split": {
            "deposit": 51500,
            "balance": 51500
          },
          "nightPrices": {
            "2017-07-01": 10000,
            "2017-07-02": 10000,
            "2017-07-03": 10000,
            "2017-07-04": 10000,
            "2017-07-05": 10000,
            "2017-07-06": 10000,
            "2017-07-07": 10000,
            "2017-07-08": 10000,
            "2017-07-09": 10000,
            "2017-07-10": 10000
          }
        }
      }
    ]
  },
  {
    "name": "Pet Test 02",
    "description": "testing out pets - split method change",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "GBP",
          "defaults": {
            "damageDeposit": null,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 0,
            "balanceDaysBeforeArrival": 42,
            "depositSplitPercentage": 50,
            "daysRequiredInAdvanceForBooking": 0,
            "extraNightAlterationStrategyUseGlobalNights": true,
            "damageDepositSplitMethod": "ON_ARRIVAL",
            "perPetPerStay": 10,
            "perPetPerNight": 2,
            "perPetSplitMethod": "ON_BALANCE"
          },
          "taxes": [],
          "periods": [
            {
              "description": "2",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-02-01",
                  "endDate": "2018-02-28",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 100,
                "damageDeposit": null,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": null
              }
            }
          ],
          "modifiers": []
        }
      ]
    },
    "mixins": {
      "example-mixin": {}
    },
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2017-07-01",
          "departureDate": "2017-07-11",
          "bookingDate": "2017-06-25",
          "guests": 7,
          "pets": 2,
          "currency": "GBP"
        },
        "tests": {
          "noNights": 10,
          "finalPrice": 106000,
          "basePrice": 100000,
          "damageDeposit": 0,
          "adjustmentCount": 1,
          "split": {
            "deposit": 50000,
            "balance": 56000
          },
          "nightPrices": {
            "2017-07-01": 10000,
            "2017-07-02": 10000,
            "2017-07-03": 10000,
            "2017-07-04": 10000,
            "2017-07-05": 10000,
            "2017-07-06": 10000,
            "2017-07-07": 10000,
            "2017-07-08": 10000,
            "2017-07-09": 10000,
            "2017-07-10": 10000
          }
        }
      }
    ]
  },
  {
    "name": "Nested Periods Test",
    "description": "Make sure nested periods work correctly",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "GBP",
          "defaults": {
            "damageDeposit": null,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 0,
            "balanceDaysBeforeArrival": 42,
            "depositSplitPercentage": 50,
            "daysRequiredInAdvanceForBooking": 0,
            "extraNightAlterationStrategyUseGlobalNights": true,
            "damageDepositSplitMethod": "ON_ARRIVAL",
            "perPetPerStay": 10,
            "perPetPerNight": 2,
            "perPetSplitMethod": "ON_BALANCE"
          },
          "taxes": [],
          "periods": [
            {
              "description": "Base Period",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-01-01",
                  "endDate": "2020-01-01",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 100,
                "damageDeposit": null,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": null
              }
            },
            {
              "description": "Nested",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-01-01",
                  "endDate": "2018-01-30",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 200,
                "damageDeposit": null,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": null
              }
            }
          ],
          "modifiers": []
        }
      ]
    },
    "mixins": {
      "example-mixin": {}
    },
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2018-01-01",
          "departureDate": "2018-01-11",
          "bookingDate": "2017-06-25",
          "guests": 3,
          "pets": 0,
          "currency": "GBP"
        },
        "tests": {
          "noNights": 10,
          "finalPrice": 200000,
          "basePrice": 200000,
          "damageDeposit": 0,
          "adjustmentCount": 0,
          "split": {
            "deposit": 100000,
            "balance": 100000
          },
          "nightPrices": {
            "2018-01-01": 20000,
            "2018-01-02": 20000,
            "2018-01-03": 20000,
            "2018-01-04": 20000,
            "2018-01-05": 20000,
            "2018-01-06": 20000,
            "2018-01-07": 20000,
            "2018-01-08": 20000,
            "2018-01-09": 20000,
            "2018-01-10": 20000
          }
        }
      },
      {
        "context": {
          "arrivalDate": "2017-12-30",
          "departureDate": "2018-01-11",
          "bookingDate": "2017-06-25",
          "guests": 3,
          "pets": 0,
          "currency": "GBP"
        },
        "tests": {
          "noNights": 12,
          "finalPrice": 220000,
          "basePrice": 220000,
          "damageDeposit": 0,
          "adjustmentCount": 0,
          "split": {
            "deposit": 110000,
            "balance": 110000
          },
          "nightPrices": {
            "2017-12-30": 10000,
            "2017-12-31": 10000,
            "2018-01-01": 20000,
            "2018-01-02": 20000,
            "2018-01-03": 20000,
            "2018-01-04": 20000,
            "2018-01-05": 20000,
            "2018-01-06": 20000,
            "2018-01-07": 20000,
            "2018-01-08": 20000,
            "2018-01-09": 20000,
            "2018-01-10": 20000
          }
        }
      }
    ]
  },
  {
    "name": "DVR Base Price Too Low",
    "description": "Total/base amounts arnt calculating correctly",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "CAD",
          "defaults": {
            "damageDeposit": 500,
            "damageDepositCalculationMethod": "fixed",
            "perPetPerStay": 0,
            "perPetPerNight": 0,
            "perPetSplitMethod": "ON_TOTAL",
            "minimumNights": 3,
            "balanceDaysBeforeArrival": 45,
            "depositSplitPercentage": 25,
            "daysRequiredInAdvanceForBooking": 1,
            "bookableType": "instant_bookable",
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_BALANCE"
          },
          "taxes": "@sun-peaks",
          "periods": [
            {
              "description": "Spring Skiing",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-03-25",
                  "endDate": "2019-04-21",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 275,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.975,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.925,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Spring\/Summer\/Fall",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-04-22",
                  "endDate": "2019-11-14",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 190,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.975,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.925,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "10",
                        "amount": 0.8,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Early Season",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-11-15",
                  "endDate": "2019-12-19",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 275,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Holidays",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-12-20",
                  "endDate": "2019-12-26",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 595,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "New Years",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-12-27",
                  "endDate": "2020-01-04",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 725,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Powder Days",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-01-05",
                  "endDate": "2020-02-13",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 245,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Family Day Long Weekend",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-02-14",
                  "endDate": "2020-02-16",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 395,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Presidents Week",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-02-17",
                  "endDate": "2020-02-22",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 375,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Powder Fun",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-02-23",
                  "endDate": "2020-03-06",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 295,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "March Break",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-03-07",
                  "endDate": "2020-03-28",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 325,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Spring Skiing",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-03-29",
                  "endDate": "2020-04-19",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 275,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Spring\/Summer\/Fall",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-04-20",
                  "endDate": "2020-11-12",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 180,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            }
          ],
          "modifiers": [
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_BALANCE",
              "description": "Cleaning with Tax",
              "conditionOperand": "AND",
              "conditions": [],
              "rate": {
                "type": "adjustment",
                "amount": 173.25,
                "calculationMethod": "fixed",
                "calculationOperand": "addition",
                "applicableTaxes": []
              }
            }
          ]
        }
      ]
    },
    "mixins": {
      "example-mixin": {}
    },
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2019-04-19",
          "departureDate": "2019-04-26",
          "bookingDate": "2019-03-18",
          "guests": 4,
          "pets": 0,
          "currency": "CAD"
        },
        "tests": {
          "noNights": 7,
          "finalPrice": 225350,
          "basePrice": 158025,
          "damageDeposit": 50000,
          "adjustmentCount": 2,
          "split": {
            "deposit": 39507,
            "balance": 185843
          },
          "nightPrices": {
            "2019-04-19": 27500,
            "2019-04-20": 27500,
            "2019-04-21": 27500,
            "2019-04-22": 19000,
            "2019-04-23": 19000,
            "2019-04-24": 19000,
            "2019-04-25": 18525
          }
        }
      }
    ]
  },
  {
    "name": "Mixin Tax Test Applys To Modifiers",
    "description": "Tests that a mixin works with modifiers that have applicable taxes",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "CAD",
          "defaults": {
            "damageDeposit": 500,
            "damageDepositCalculationMethod": "fixed",
            "perPetPerStay": 0,
            "perPetPerNight": 0,
            "perPetSplitMethod": "ON_TOTAL",
            "minimumNights": 3,
            "maximumNights": "",
            "balanceDaysBeforeArrival": 45,
            "depositSplitPercentage": 25,
            "daysRequiredInAdvanceForBooking": 0,
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_BALANCE"
          },
          "taxes": "@sun-peaks",
          "periods": [
            {
              "description": "Spring\/Summer\/Fall",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2016-05-22",
                  "endDate": "2016-11-17",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "3",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 190,
                "damageDeposit": 500,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": true,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.85,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.7328,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Early Season",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2016-11-18",
                  "endDate": "2016-12-16",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "3",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 260,
                "damageDeposit": 500,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": true,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.85,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7+",
                        "amount": 0.8,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Christmas Holidays",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2016-12-17",
                  "endDate": "2016-12-26",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "3",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 895,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": true,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "6",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.85,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "New Years",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2016-12-27",
                  "endDate": "2017-01-02",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 1100,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "6",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.85,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Powder Days",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-01-03",
                  "endDate": "2017-02-09",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 475,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.85,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7+",
                        "amount": 0.8,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Family Day Long Weekend",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-02-10",
                  "endDate": "2017-02-12",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 495,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.85,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7+",
                        "amount": 0.8,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "February Fun",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-02-13",
                  "endDate": "2017-02-16",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 410,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.85,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7+",
                        "amount": 0.8,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Prime Time Fun",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-02-26",
                  "endDate": "2017-03-09",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 390,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.85,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7+",
                        "amount": 0.8,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "March Break",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-03-10",
                  "endDate": "2017-03-25",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 420,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.85,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7+",
                        "amount": 0.8,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Spring Skiing",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-03-26",
                  "endDate": "2017-04-17",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 280,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.85,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7+",
                        "amount": 0.8,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Spring\/Summer\/Fall",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-04-18",
                  "endDate": "2017-11-16",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 195,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.85,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7+",
                        "amount": 0.8,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Early Season",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-11-17",
                  "endDate": "2017-12-10",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 350,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.93,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.875,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Great Snow",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-12-11",
                  "endDate": "2017-12-21",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 495,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "subtraction",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.975,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Holiday Season",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-12-22",
                  "endDate": "2017-12-26",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 795,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "New Years",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2017-12-27",
                  "endDate": "2018-01-01",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 910,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Powder Days",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-01-02",
                  "endDate": "2018-02-08",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 385,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.93,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.875,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "BC Family Day Long Weekend",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-02-09",
                  "endDate": "2018-02-12",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 475,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.93,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.875,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "February Fun",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-02-13",
                  "endDate": "2018-02-15",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 450,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.93,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.875,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Presidents Week",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-02-16",
                  "endDate": "2018-02-24",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 470,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.93,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.875,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Powder Fun",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-02-25",
                  "endDate": "2018-03-04",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 425,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.93,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.875,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Great Powder!",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-03-09",
                  "endDate": "2018-03-15",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 395,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "March Break",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-03-16",
                  "endDate": "2018-03-24",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 460,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.93,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.875,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Spring Skiing",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-03-25",
                  "endDate": "2018-04-03",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 310,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.93,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.875,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Blocked Event",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-04-04",
                  "endDate": "2018-04-08",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "100",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 10000,
                "damageDeposit": 10000,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Spring\/Summer\/Fall",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-04-09",
                  "endDate": "2018-11-15",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 200,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.93,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.875,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Early Season",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-11-16",
                  "endDate": "2018-12-18",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 350,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Holiday Season",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-12-19",
                  "endDate": "2018-12-26",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 525,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "6",
                        "amount": 0.975,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "New Years",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2018-12-27",
                  "endDate": "2019-01-02",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 950,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": []
                  }
                }
              }
            },
            {
              "description": "Powder Days",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-01-03",
                  "endDate": "2019-02-14",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 450,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.975,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.925,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "BC Family Day Long Weekend",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-02-15",
                  "endDate": "2019-02-17",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 525,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.975,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.925,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Presidents Week",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-02-18",
                  "endDate": "2019-02-23",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 495,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.975,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.925,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Powder Fun",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-02-24",
                  "endDate": "2019-03-10",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 450,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.975,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.925,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "March Break",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-03-11",
                  "endDate": "2019-03-23",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 495,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.975,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.925,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Spring Skiing",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-03-24",
                  "endDate": "2019-04-21",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 350,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.975,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.925,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Spring\/Summer\/Fall",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-04-22",
                  "endDate": "2019-11-15",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 200,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": [],
                "strategy": {
                  "extraNightsAlteration": {
                    "applyToTotal": false,
                    "makePreviousNightsSameRate": false,
                    "calculationMethod": "percentage",
                    "calculationOperand": "equals",
                    "brackets": [
                      {
                        "night": "4",
                        "amount": 0.975,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "5",
                        "amount": 0.95,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "6",
                        "amount": 0.925,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      },
                      {
                        "night": "7",
                        "amount": 0.9,
                        "days": [],
                        "matchAmount": 0,
                        "damageDepositOverride": null
                      }
                    ]
                  }
                }
              }
            },
            {
              "description": "Early Season",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-11-16",
                  "endDate": "2019-12-19",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 350,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Holidays",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-12-20",
                  "endDate": "2019-12-26",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 895,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "New Years",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-12-27",
                  "endDate": "2020-01-04",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 1095,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Powder Days",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-01-05",
                  "endDate": "2020-02-13",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 495,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Family Day Long Weekend ",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-02-14",
                  "endDate": "2020-02-16",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 695,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Presidents Week",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-02-17",
                  "endDate": "2020-02-22",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 595,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Powder Fun",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-02-23",
                  "endDate": "2020-03-04",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 495,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Wine Festival",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-03-05",
                  "endDate": "2020-03-08",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "4",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 595,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "March Break",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-03-09",
                  "endDate": "2020-03-28",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 595,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Spring Skiing",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-03-29",
                  "endDate": "2020-04-19",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 475,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Spring\/Summer\/Fall",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-04-20",
                  "endDate": "2020-11-12",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 205,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            }
          ],
          "modifiers": [
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_BALANCE",
              "priceGroup": "total",
              "description": "Cleaning Fee (with taxes)",
              "conditionOperand": "AND",
              "conditions": [],
              "rate": {
                "type": "adjustment",
                "amount": 100,
                "calculationMethod": "fixed",
                "calculationOperand": "addition",
                "taxable": true,
                "applicableTaxes": [
                  "14b1fd02-91a3-46e9-91e1-b4c1639ef21b",
                  "2b7d74ec-4331-4946-82b0-1f053e710aae",
                  "1d8edb07-a3ed-482b-a4f0-4c1615f0e916"
                ]
              }
            }
          ]
        }
      ]
    },
    "mixins": {
      "sun-peaks": [
        {
          "name": "GST",
          "amount": 0.05,
          "calculationMethod": "percentage",
          "uuid": "14b1fd02-91a3-46e9-91e1-b4c1639ef21b",
          "type": "TYPE_TAX",
          "includeBasePrice": true
        },
        {
          "name": "PST",
          "amount": 0.08,
          "calculationMethod": "percentage",
          "uuid": "2b7d74ec-4331-4946-82b0-1f053e710aae",
          "type": "TYPE_TAX",
          "includeBasePrice": true
        },
        {
          "name": "MRDT",
          "amount": 0.03,
          "calculationMethod": "percentage",
          "uuid": "1d8edb07-a3ed-482b-a4f0-4c1615f0e916",
          "type": "TYPE_TAX",
          "includeBasePrice": true
        }
      ]
    },
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2020-01-05",
          "departureDate": "2020-01-10",
          "bookingDate": "2019-02-22",
          "guests": 6,
          "currency": "CAD"
        },
        "tests": {
          "noNights": 5,
          "finalPrice": 348700,
          "nightPrices": {
            "2020-01-05": 49500,
            "2020-01-06": 49500,
            "2020-01-07": 49500,
            "2020-01-08": 49500,
            "2020-01-09": 49500
          }
        }
      }
    ]
  },
  {
    "name": "Distribution Filter Check",
    "description": "",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "EUR",
          "defaults": {
            "damageDeposit": 0,
            "damageDepositCalculationMethod": "fixed",
            "minimumNights": 7,
            "balanceDaysBeforeArrival": 60,
            "depositSplitPercentage": 30,
            "daysRequiredInAdvanceForBooking": 1,
            "bookableType": "instant_bookable",
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_ARRIVAL"
          },
          "taxes": [],
          "periods": [
            {
              "description": "2020",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-01-01",
                  "endDate": "2020-12-31",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": 2,
              "bookableType": null,
              "rate": {
                "type": "weekly",
                "amount": 100,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            }
          ],
          "modifiers": [
            {
              "type": "modifier",
              "hidden": false,
              "splitMethod": "ON_TOTAL",
              "description": "Early Bird",
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "distribution",
                  "distributionChannels": ["rentalsunited"]
                }
              ],
              "rate": {
                "type": "adjustment",
                "amount": 0.10,
                "calculationMethod": "percentage",
                "calculationOperand": "subtraction",
                "applicableTaxes": []
              }
            }
          ]
        }
      ]
    },
    "mixins": [],
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2020-02-01",
          "departureDate": "2020-02-08",
          "bookingDate": "2020-01-31",
          "guests": 10,
          "currency": "EUR"
        },
        "tests": {
          "noNights": 7,
          "finalPrice": 10000,
          "basePrice": 10000,
          "damageDeposit": 0,
          "adjustmentCount": 0,
          "split": {
            "deposit": 3000,
            "balance": 7000
          },
          "nightPrices": {
            "2020-02-01": 1429,
            "2020-02-02": 1429,
            "2020-02-03": 1429,
            "2020-02-04": 1429,
            "2020-02-05": 1428,
            "2020-02-06": 1428,
            "2020-02-07": 1428
          }
        }
      },
      {
        "context": {
          "arrivalDate": "2020-02-01",
          "departureDate": "2020-02-08",
          "bookingDate": "2020-01-31",
          "guests": 10,
          "currency": "EUR"
        },
        "parseOptions": {
          "distributionChannel": "rentalsunited"
        },
        "tests": {
          "noNights": 7,
          "finalPrice": 9000,
          "basePrice": 9000,
          "damageDeposit": 0,
          "adjustmentCount": 1,
          "split": {
            "deposit": 2700,
            "balance": 6300
          },
          "nightPrices": {
            "2020-02-01": 1429,
            "2020-02-02": 1429,
            "2020-02-03": 1429,
            "2020-02-04": 1429,
            "2020-02-05": 1428,
            "2020-02-06": 1428,
            "2020-02-07": 1428
          }
        }
      }
    ]
  },
  {
    "key": "distribution-parser-test",
    "name": "Distribution Condition Always True",
    "description": "",
    "config": {
      "name": "Pricing",
      "schema": "property-pricing",
      "version": "0.0.1",
      "meta": [],
      "data": [
        {
          "currency": "EUR",
          "defaults": {
            "damageDeposit": null,
            "damageDepositCalculationMethod": "fixed",
            "perPetPerStay": 0,
            "perPetPerNight": 0,
            "perPetSplitMethod": "ON_TOTAL",
            "minimumNights": 7,
            "maximumNights": "",
            "balanceDaysBeforeArrival": 45,
            "depositSplitPercentage": 30,
            "daysRequiredInAdvanceForBooking": 2,
            "bookableType": "enquiry_with_price",
            "extraNightAlterationStrategyUseGlobalNights": false,
            "damageDepositSplitMethod": "ON_BALANCE"
          },
          "taxes": [],
          "periods": [
            {
              "description": "Christmas\/New Year 2019\/20",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2019-12-21",
                  "endDate": "2020-01-07",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "7",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 920,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            },
            {
              "description": "Winter\/Spring 2020",
              "priority": 500,
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "date",
                  "modifyRatePerUnit": false,
                  "startDate": "2020-01-08",
                  "endDate": "2020-04-04",
                  "arrivalDays": [],
                  "departureDays": []
                }
              ],
              "minimumNights": "5",
              "bookableType": null,
              "rate": {
                "type": "nightly",
                "amount": 750,
                "calculationMethod": "fixed",
                "calculationOperand": "equals",
                "applicableTaxes": []
              }
            }
          ],
          "modifiers": [
            {
              "type": "modifier",
              "hidden": true,
              "splitMethod": "ON_TOTAL",
              "priceGroup": "total",
              "description": "CC Fee",
              "conditionOperand": "AND",
              "conditions": [
                {
                  "type": "distribution",
                  "modifyRatePerUnit": false,
                  "distributionChannels": [
                    "homeaway"
                  ]
                },
                {
                  "type": "nights",
                  "modifyRatePerUnit": false,
                  "minimum": 21,
                  "maximum": 28
                }
              ],
              "rate": {
                "type": "adjustment",
                "amount": 0.017,
                "calculationMethod": "percentage",
                "calculationOperand": "addition",
                "applicableTaxes": []
              }
            },
            {
              "type": "cleaning",
              "hidden": false,
              "splitMethod": "ON_TOTAL",
              "priceGroup": "total",
              "description": "Cleaning fee",
              "conditionOperand": "AND",
              "conditions": [],
              "rate": {
                "type": "adjustment",
                "amount": 100,
                "calculationMethod": "fixed",
                "calculationOperand": "addition",
                "applicableTaxes": []
              }
            }
          ]
        }
      ]
    },
    "mixins": [],
    "priceTests": [
      {
        "context": {
          "arrivalDate": "2020-01-10",
          "departureDate": "2020-01-17",
          "bookingDate": "2020-01-01",
          "guests": 10,
          "currency": "EUR"
        },
        "tests": {
          "noNights": 7,
          "finalPrice": 535000,
          "basePrice": 525000,
          "damageDeposit": 0,
          "adjustmentCount": 1,
          "split": {
            "deposit": 160500,
            "balance": 374500
          },
          "nightPrices": {
            "2020-01-10": 75000,
            "2020-01-11": 75000,
            "2020-01-12": 75000,
            "2020-01-13": 75000,
            "2020-01-14": 75000,
            "2020-01-15": 75000,
            "2020-01-16": 75000
          }
        }
      }
    ]
  }
]